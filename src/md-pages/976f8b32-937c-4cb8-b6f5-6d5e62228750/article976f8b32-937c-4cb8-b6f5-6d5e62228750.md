---
path: "/blog/976f8b32-937c-4cb8-b6f5-6d5e62228750"
date: "2025/04/11"
title: "MCPã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã‚‹"
tag: ["ç”ŸæˆAI"]
thumbnailImage: "/images/article/976f8b32-937c-4cb8-b6f5-6d5e62228750/undraw_data-input_whqw.png"
ogpImage: "/images/article/976f8b32-937c-4cb8-b6f5-6d5e62228750/ogp.png"
---

# æ¦‚è¦

æœ€è¿‘Claudeã¨ãŸãã•ã‚“ãŠè©±ã—ã—ã¦ä»Šæ›´ãªãŒã‚‰æ„Ÿå‹•ã—ã¦ã„ã‚‹ã€‚  
è‰²ã€…è©¦ã—ãŸããªã£ã¦ã„ã‚‹ã®ã§ã€æœ€è¿‘è‰¯ãèãMCPã«ã¤ã„ã¦èª¿ã¹ã‚‹ã€‚

# é–¢é€£ãƒªãƒ³ã‚¯

- [https://modelcontextprotocol.io/introduction](https://modelcontextprotocol.io/introduction)
- [Tetsuya\-Minase/mcp\-server\-sample](https://github.com/Tetsuya-Minase/mcp-server-sample)

# MCPã¨ã¯

> MCP is an open protocol that standardizes how applications provide context to LLMs. Think of MCP like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect your devices to various peripherals and accessories, MCP provides a standardized way to connect AI models to different data sources and tools.

MCPã¨ã¯â†‘ã®é€šã‚Šã€‚  
ã–ã£ãã‚Šè¨€ã†ã¨MCPã¯USB-Cã®ã‚ˆã†ãªã‚‚ã®ã§ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒLLMã«Contextã‚’æä¾›ã™ã‚‹ãŸã‚ã®æ¨™æº–åŒ–ã™ã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€‚  
Aã¨ã„ã†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„Bã¨ã„ã†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæä¾›ã™ã‚‹æƒ…å ±ã‚’Claudeã‚„ChatGPTãŒä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚‚ã®ã¨ã„ã†ã“ã¨ã€‚  

ãªãœã€MCPãªã®ã‹ã¨ã„ã†ã¨Agentã‚„è¤‡é›‘ãªworkflowã‚’LLMä¸Šã«æ§‹ç¯‰ã™ã‚‹éš›ã«å½¹ç«‹ã¤ã‹ã‚‰ã€‚  
LLMã¯ãƒ‡ãƒ¼ã‚¿ã‚„ãƒ„ãƒ¼ãƒ«ã®çµ±åˆã‚’é »ç¹ã«å¿…è¦ã¨ã™ã‚‹ã®ã§ã€MCPãŒãã®é–“ã‚’å–ã‚ŠæŒã£ã¦ãã‚Œã‚‹ã€‚

# å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã‚‹

## MCPã‚µãƒ¼ãƒã‚’ä½œã£ã¦ã¿ã‚‹

â†“ã‚’å‚è€ƒã«ä½œã£ã¦ã„ãã€‚  
[https://modelcontextprotocol.io/quickstart/server#node](https://modelcontextprotocol.io/quickstart/server#node)

```bash
# é©å½“ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦
-> % mkdir mcp-server-sample
-> % cd mcp-server-sample
# npm initã§åˆæœŸåŒ–ã—ã¦
-> % npm init -y
# å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’install
-> % npm install @modelcontextprotocol/sdk zod
-> % npm install -D @types/node typescript
# ãƒ¡ã‚¤ãƒ³ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
-> % mkdir src && touch src/index.ts
```

`package.json`ã¨ `tsconfig.json`ã‚’ãã‚Œãã‚Œä»¥ä¸‹ã®é€šã‚Šä¿®æ­£ã€‚

```diff
   "version": "1.0.0",
   "main": "index.js",
   "scripts": {
+    "build": "tsc && chmod 755 build/index.js",
     "test": "echo \"Error: no test specified\" && exit 1"
   },
+  "type": "module",
+  "bin": {
+    "mcp-server-sample": "build/index.js"
+  },
+  "files": [
+    "build"
+  ],
   "keywords": [],
   "author": "",
   "license": "ISC",

```

```diff
+{
+    "compilerOptions": {
+      "target": "ES2022",
+      "module": "Node16",
+      "moduleResolution": "Node16",
+      "outDir": "./build",
+      "rootDir": "./src",
+      "strict": true,
+      "esModuleInterop": true,
+      "skipLibCheck": true,
+      "forceConsistentCasingInFileNames": true
+    },
+    "include": ["src/**/*"],
+    "exclude": ["node_modules"]
+  }
+  
```

MCPã‚µãƒ¼ãƒã¨ã—ã¦èµ·å‹•ã§ãã‚‹ã‚ˆã†ã« `src/index.ts`ã‚’ä¿®æ­£ã—ã¦ã„ãã€‚  
ã¾ãŸåˆã‚ã›ã¦å†…å®¹ã‚‚è¿½åŠ ã—ã€æœ€çµ‚çš„ã«ä»¥ä¸‹ã®é€šã‚Šã¨ã—ãŸã€‚

```tsx
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";

const server = new McpServer({
  name: "mcp-server-sample",
  version: "1.0.0",
  capabilities: {
    resources: {},
    tools: {},
  },
});

server.tool("get-tminasen-info", "get tminasen infomation", {}, () => {
  return {
    content: [
      {
        type: "text",
        text: "tminasen is web developer.",
      },
    ],
  };
});

server.tool(
  "get-tminasen-skills",
  "get tminasen's skill infomation",
  {
    genre: z.union([z.literal("FE"), z.literal("BE")]).describe("skill genre"),
  },
  ({ genre }) => {
    const skills =
      genre === "FE"
        ? ["React", "Angular", "Tailwind CSS"]
        : ["Express", "Spring Boot"];
    return {
      content: [
        {
          type: "text",
          text: `tminasen's ${genre} skills are ${skills.join(", ")}.`,
        },
      ],
    };
  }
);

async function main() {
    const transport = new StdioServerTransport();
    await server.connect(transport);
    console.error("Weather MCP Server running on stdio");
  }

  main().catch((error) => {
    console.error("Fatal error in main():", error);
    process.exit(1);
  });

```

æœ€å¾Œã« `npm run build`ã§buildã—ã¦æº–å‚™å®Œäº†ã€‚

## MCPã‚µãƒ¼ãƒä½¿ã£ã¦ã¿ã‚‹

ãƒ­ãƒ¼ã‚«ãƒ«ã®MCPã‚µãƒ¼ãƒã¯Claude for Desktopã‚’ä½¿ãˆã°ç¢ºèªã§ãã‚‹ã€‚  
(ä»–ã®æ–¹æ³•ã‚‚ã‚ã‚‹ã‹ã‚‚ã ãŒã€ä»Šå›ã¯Documentã«æ²¿ã£ã¦Claude for Desktopã‚’ä½¿ã†ã€‚)  

MCPã‚µãƒ¼ãƒã‚’ä½¿ã£ã¦ã‚‚ã‚‰ã†ã‚ˆã†ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (`~/Library/Application Support/Claude/claude_desktop_config.json`)ã«ä»¥ä¸‹ã®é€šã‚Šæƒ…å ±ã‚’è¿½åŠ ã™ã‚‹ã€‚

```json
{
    "mcpServers": {
        "mcp-server-sample": {
            "command": "node",
            "args": [
                "/ABSOLUTE/PATH/TO/PARENT/FOLDER/mcp-server-sample/build/index.js"
            ]
        }
    }
}
```

ã“ã®çŠ¶æ…‹ã§Claude for Desktopã‚’èµ·å‹•ã™ã‚Œã°ã€MCPã‚µãƒ¼ãƒã®æƒ…å ±ã‚’è¦‹ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

### å•é¡Œç™ºç”Ÿ

ã†ã¾ãèµ·å‹•ã—ãªã„ã€‚
`mcp.log`ã¨ `mcp-server-mcp-server-sample.log`ã«ä»¥ä¸‹ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã„ãŸã€‚

```text
2025-04-11T12:09:05.526Z [info] [mcp-server-sample] Initializing server...
2025-04-11T12:09:05.541Z [error] [mcp-server-sample] spawn node ENOENT
2025-04-11T12:09:05.541Z [error] [mcp-server-sample] spawn node ENOENT
2025-04-11T12:09:05.543Z [info] [mcp-server-sample] Server transport closed
2025-04-11T12:09:05.543Z [info] [mcp-server-sample] Client transport closed
2025-04-11T12:09:05.543Z [info] [mcp-server-sample] Server transport closed unexpectedly, this is likely due to the process exiting early. If you are developing this MCP server you can add output to stderr (i.e. `console.error('...')` in JavaScript, `print('...', file=sys.stderr)` in python) and it will appear in this log.
2025-04-11T12:09:05.543Z [error] [mcp-server-sample] Server disconnected. For troubleshooting guidance, please visit our [debugging documentation](https://modelcontextprotocol.io/docs/tools/debugging)
```

```text
2025-04-11T12:09:05.526Z [mcp-server-sample] [info] Initializing server...
2025-04-11T12:09:05.540Z [mcp-server-sample] [error] spawn node ENOENT {"context":"connection","stack":"Error: spawn node ENOENT\n    at ChildProcess._handle.onexit (node:internal/child_process:285:19)\n    at onErrorNT (node:internal/child_process:483:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
2025-04-11T12:09:05.541Z [mcp-server-sample] [error] spawn node ENOENT {"stack":"Error: spawn node ENOENT\n    at ChildProcess._handle.onexit (node:internal/child_process:285:19)\n    at onErrorNT (node:internal/child_process:483:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
2025-04-11T12:09:05.543Z [mcp-server-sample] [info] Server transport closed
2025-04-11T12:09:05.543Z [mcp-server-sample] [info] Client transport closed
2025-04-11T12:09:05.543Z [mcp-server-sample] [info] Server transport closed unexpectedly, this is likely due to the process exiting early. If you are developing this MCP server you can add output to stderr (i.e. `console.error('...')` in JavaScript, `print('...', file=sys.stderr)` in python) and it will appear in this log.
2025-04-11T12:09:05.543Z [mcp-server-sample] [error] Server disconnected. For troubleshooting guidance, please visit our [debugging documentation](https://modelcontextprotocol.io/docs/tools/debugging) {"context":"connection"}
```

ä½•ã‚‚ã‚ã‹ã‚‰ã‚“ğŸ˜‡

Issueã‚’èª¿ã¹ãŸã¨ã“ã‚ã€ä¼¼ãŸã‚ˆã†ãªå•é¡Œã‚’ç™ºè¦‹ã—ãŸã€‚  
[https://github.com/modelcontextprotocol/quickstart-resources/issues/17](https://github.com/modelcontextprotocol/quickstart-resources/issues/17)

è‡ªåˆ†ã®ç’°å¢ƒã‚‚nodeã‚’nodenvçµŒç”±ã§å…¥ã‚Œã¦ã„ãŸãŸã‚ã€`claude_desktop_config.json`ã‚’ä»¥ä¸‹ã®é€šã‚Šä¿®æ­£ã™ã‚‹ã€‚

```json
{
    "mcpServers": {
        "mcp-server-sample": {
            "command": "/ABSOLUTE/PATH/TO/.NODENV/FOLDER/.nodenv/shims/node",
            "args": [
                "/ABSOLUTE/PATH/TO/PARENT/FOLDER/mcp-server-sample/build/index.js"
            ]
        }
    }
}
```

ã“ã®çŠ¶æ…‹ã§å†èµ·å‹•ã™ã‚‹ã“ã¨ã§ç„¡äº‹èªè­˜ã•ã›ã‚‹ã“ã¨ãŒã§ããŸã€‚

# å‹•ä½œç¢ºèª

ã€Œtminasenã«ã¤ã„ã¦ã‚ãªãŸã®çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ã‚’æ•™ãˆã¦ä¸‹ã•ã„ã€‚ã€ã¨è¨Šã„ã¦ã¿ãŸã€‚  
çµæœã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«MCPã‚µãƒ¼ãƒã§å®šç¾©ã—ãŸå†…å®¹ã‚’å…ƒã«å›ç­”ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

```markdown
tminasenã«ã¤ã„ã¦ã®æƒ…å ±ã‚’èª¿ã¹ã¦ã¿ã¾ã™ã€‚

tminasenã«ã¤ã„ã¦ã€Webé–‹ç™ºè€…ã§ã‚ã‚‹ã¨ã„ã†åŸºæœ¬æƒ…å ±ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã‚‚ã†å°‘ã—è©³ã—ã„æƒ…å ±ã‚’èª¿ã¹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

tminasenã«ã¤ã„ã¦ã®æƒ…å ±ã‚’ã¾ã¨ã‚ã‚‹ã¨ï¼š

1. **è·æ¥­**: Webé–‹ç™ºè€…

2. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰(FE)ã‚¹ã‚­ãƒ«**:
   - React
   - Angular
   - Tailwind CSS

3. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰(BE)ã‚¹ã‚­ãƒ«**:
   - Express
   - Spring Boot

tminasenã•ã‚“ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ä¸¡æ–¹ã®ã‚¹ã‚­ãƒ«ã‚’æŒã¤ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºè€…ã§ã‚ã‚‹ã¨è¨€ãˆã¾ã™ã€‚Reactã‚„Angularã¨ã„ã£ãŸç¾ä»£çš„ãªJavaScriptãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã¨ã€Expressã‚„Spring Bootã‚’ä½¿ã£ãŸãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºã®çµŒé¨“ã‚’ãŠæŒã¡ã®ã‚ˆã†ã§ã™ã€‚
```

ã¡ãªã¿ã«ä½•ã‚‚è¨­å®šã—ã¦ã„ãªã„æ™‚ã¯ã€Œèª°ã‚„ãã‚Œï¼Ÿã€ã¨å›ç­”ã•ã‚Œã¦çµ‚ã‚ã£ã¦ã„ãŸã€‚

ã¾ãŸã€FEã ã‘ã«ã¤ã„ã¦è¨Šã‘ã°ãã®ã“ã¨ã®ã¿è¿”ã—ã¦ãã‚Œã‚‹ã€‚  
ã€ŒtminasenãŒFEé–‹ç™ºã§ä½œæ¥­ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã‹ï¼Ÿå¯èƒ½ãªå ´åˆç†ç”±ã‚‚æç¤ºã—ã¦ä¸‹ã•ã„ã€‚ã€ã¨è¨Šã„ãŸçµæœã¯ä»¥ä¸‹ã®é€šã‚Šã€‚

````markdown
tminasenã®FEé–‹ç™ºã®å¯èƒ½æ€§ã«ã¤ã„ã¦èª¿æŸ»ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã¾ãšã€tminasenã®æƒ…å ±ã¨ç‰¹ã«FEã‚¹ã‚­ãƒ«ã«ã¤ã„ã¦ç¢ºèªã—ã¾ã™ã€‚

ã¯ã„ã€tminasenã¯FEé–‹ç™ºã§ä½œæ¥­ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ç†ç”±ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

1. tminasenã¯ã‚¦ã‚§ãƒ–é–‹ç™ºè€…ã§ã‚ã‚‹ç‚¹ãŒåŸºæœ¬æƒ…å ±ã‹ã‚‰ç¢ºèªã§ãã¾ã—ãŸ
2. FEã‚¹ã‚­ãƒ«æƒ…å ±ã«ã‚ˆã‚‹ã¨ã€ä»¥ä¸‹ã®é‡è¦ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã‚’ç¿’å¾—ã—ã¦ã„ã¾ã™ï¼š
   - React: æœ€ã‚‚äººæ°—ã®ã‚ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
   - Angular: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ã—ãŸå¼·åŠ›ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
   - Tailwind CSS: ãƒ¢ãƒ€ãƒ³ãªUIãƒ‡ã‚¶ã‚¤ãƒ³ã«åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

ã“ã‚Œã‚‰ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¯ç¾ä»£ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã«ãŠã„ã¦éå¸¸ã«é‡è¦ã§ã€å¤šãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æ¡ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ç‰¹ã«Reactã¨Angularã¯å¸‚å ´ã‚·ã‚§ã‚¢ã®å¤§ãã„2å¤§ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚Šã€Tailwind CSSã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§åŠ¹ç‡çš„ãªUIé–‹ç™ºãŒå¯èƒ½ã§ã™ã€‚

ä¾‹ãˆã°ã€TypeScriptã¨Reactã‚’çµ„ã¿åˆã‚ã›ãŸé–‹ç™ºã§ã¯ï¼š

```typescript
// React+TypeScriptã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¾‹
interface UserProps {
  name: string;
  email: string;
  role: 'admin' | 'user';
}

const UserProfile: React.FC<UserProps> = ({ name, email, role }) => {
  return (
    <div className="p-4 bg-white shadow rounded-lg">
      <h2 className="text-xl font-bold">{name}</h2>
      <p className="text-gray-600">{email}</p>
      <span className={`px-2 py-1 rounded ${role === 'admin' ? 'bg-red-100 text-red-800' : 'bg-blue-100 text-blue-800'}`}>
        {role}
      </span>
    </div>
  );
};
```

ã“ã®ã‚ˆã†ã«tminasenã®æŒã¤ã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆã¯ç¾ä»£ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã«ååˆ†å¯¾å¿œã§ãã‚‹ã‚‚ã®ã§ã™ã€‚
````

# ã¾ã¨ã‚
ä»Šå›ã¯MCPã‚µãƒ¼ãƒã«ã¤ã„ã¦èª¿ã¹ã¤ã¤å®Ÿéš›ã«è©¦ã—ã¦ã¿ãŸã€‚  
æ€ã£ãŸã‚ˆã‚Šã‚‚ç°¡å˜ã«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹ã“ã¨ãŒã§ããŸã—ã€ClaudeãŒã“ã¡ã‚‰ã®æƒ…å ±ã‚’ä½¿ã£ã¦è‰²ã€…ã‚„ã£ã¦ãã‚Œã‚‹ã®ã¯æœªæ¥ã‚’æ„Ÿã˜ãŸã€‚  
ã‚‚ã£ã¨è‰²ã€…ã§ãã‚‹ã‚‚ã®ã ã¨æ€ã†ã®ã§å¼•ãç¶šãèª¿ã¹ã¦ã„ãã€‚  

ã“ã“æœ€è¿‘Claudeãã‚“ã¨è©±ã—ã¦ã„ã‚‹ã«ãƒãƒã£ã¦ã„ã‚‹ã‘ã©ã€ã‚ˆã‚Šæ·±ããƒãƒã‚Œãã†ã§ã¨ã¦ã‚‚æ¥½ã—ã„ã€‚ã€‚ã€‚  
